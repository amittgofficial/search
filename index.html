<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CODEXBOT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div style="position: fixed; top: 15px; left: 15px; z-index: 10000;">
  <button onclick="toggleDarkMode()" style="padding: 10px; border-radius: 10px;">ğŸŒ“</button>
</div>

<div class="box" id="toolSection">
  <h2></h2>

  <div id="codeSection">
    <input type="text" id="codeInput" placeholder="Enter your code" oninput="autoFocusNumber()" />
    <input type="number" id="numberInput" placeholder="Enter number" />
    <button onclick="insertCode()" class="btn-save">ğŸ’¾ Save Code</button>
    <button onclick="showEditPopup()">âœï¸ Edit</button>
  </div>

  <div class="output-section" id="outputSection">
    <div id="result" class="output">No data.</div>
    <button id="copyBtn" class="btn-copy" onclick="copyResult()">ğŸ“‹ Copy</button>
    <button id="saveHistoryBtn" class="btn-save" onclick="saveUpdatedListToHistory()">ğŸ’¾ Save List</button>
  </div>

  <textarea id="monoInput" rows="6" placeholder="ğŸ”¤ Paste mono list (codes)..." style="display:none;"></textarea>
  <button id="monoRunBtn" onclick="runMono()" class="btn-mono" style="display:none;">âš™ï¸ Convert Mono</button>
  <div id="monoResult" class="output" style="display:none;"></div>
  <button id="copyMono" class="btn-copy" onclick="copyMonoResult()" style="display:none;">ğŸ“‹ Copy Mono</button>

  <div id="historyOutput" class="output" style="display:none;"></div>
</div>

<div class="bottom-nav">
  <button onclick="toggleSection('home')">ğŸ  Home</button>
  <button onclick="toggleSection('list')">ğŸ“‹ List</button>
  <button onclick="showUserListPopup()">ğŸ‘¥ Userlist</button>
  <button onclick="toggleSection('mono')">ğŸ’  Mono</button>
  <button onclick="toggleSection('history')">ğŸ•˜ History</button>
</div>

<!-- Popups -->
<div id="editPopup" class="popup" onclick="hideEditPopup(event)">
  <div class="popup-content" onclick="event.stopPropagation()" style="display:flex; flex-direction:column; gap:10px; width:90%; max-width:400px;">
    <span onclick="hideEditPopup()" style="align-self: flex-end;">âŒ</span>
    <h3 style="text-align:center;">âœï¸ Edit Serial Line</h3>
    <input type="number" id="botInput" placeholder="ğŸ”¢ Serial No." inputmode="numeric" />
    <input type="text" id="codeEditInput" placeholder="ğŸ§¾ Code (8â€“9 chars)" maxlength="9" />
    <input type="number" id="userInput" placeholder="ğŸ‘¤ User" />
    <button onclick="submitEdit()" class="btn-confirm">âœ… Update</button>
  </div>
</div>

<div class="popup" id="listPopup">
  <div class="popup-content">
    <span onclick="document.getElementById('listPopup').style.display='none'">âŒ</span>
    <h3>ğŸ“‹ Enter Date & List</h3>
    <input type="text" id="popupDateInput" placeholder="ğŸ—“ Date (e.g. 15 June)" />
    <textarea id="popupListInput" rows="6" placeholder="ğŸ“„ Paste your list..."></textarea>
    <button onclick="submitListPopup()" class="btn-confirm">ğŸ’¾ Save</button>
  </div>
</div>

<div id="userListPopup" class="popup" onclick="hideUserListPopup(event)">
  <div class="popup-content" onclick="event.stopPropagation()">
    <span onclick="document.getElementById('userListPopup').style.display='none'">âŒ</span>
    <h3>ğŸ‘¥ Userlist</h3>
    <div id="userListContent" style="max-height:400px; overflow:auto; background:#000; padding:10px; border-radius:8px; white-space:pre-wrap; color:#fff;"></div>
    <button onclick="copyUserList()" class="btn-copy" style="margin-top:10px; width:100%;">ğŸ“‹ Copy</button>
  </div>
</div>

<div id="bottomLinkPopup" class="popup" onclick="hideBottomPopup(event)">
  <div class="popup-content" onclick="event.stopPropagation()" style="display: flex; flex-direction: column; align-items: stretch; gap: 12px; width: 250px;">
    <span onclick="hideBottomPopup()" style="align-self: flex-end;">âŒ</span>
    <h3 style="text-align: center;">ğŸ”— Useful Tools</h3>
    <button class="btn-list" onclick="window.open('https://infotechlifafa.com/lifafa/num.php', '_blank')">ğŸ’¼ Infotech</button>
    <button class="btn-save" onclick="window.open('https://snapwallet.in/view-number-tools', '_blank')">ğŸ’° Snapwallet</button>
    <button class="btn-mono" onclick="window.open('https://fastxlifafa.in/lifafa/numberarea.php', '_blank')">ğŸš€ FastXl</button>
  </div>
</div>

<div class="tools-btn">
  <button onclick="showBottomPopup()">ğŸ“‚ Tools</button>
</div>

<div id="toast"></div>

<script src="script.js"></script>
</body>
</html>
